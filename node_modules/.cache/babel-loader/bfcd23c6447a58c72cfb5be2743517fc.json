{"ast":null,"code":"import _slicedToArray from\"E:/The Reactor/SocialMediaBasdat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./Home.css\";import{Image}from\"cloudinary-react\";import Axios from\"axios\";import FavoriteBorderIcon from'@material-ui/icons/FavoriteBorder';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),uploads=_useState2[0],setUploads=_useState2[1];useEffect(function(){if(!localStorage.getItem(\"loggedIn\")){localStorage.setItem(\"loggedIn\",false);}},[]);useEffect(function(){Axios.get(\"http://localhost:3001/upload\").then(function(response){setUploads(response.data);});},[]);var likePost=function likePost(id,key){var tempLikes=uploads;tempLikes[key].likes=tempLikes[key].likes+1;Axios.post(\"http://localhost:3001/upload/like\",{author:localStorage.getItem(\"username\"),likesid:id}).then(function(response){setUploads(tempLikes);});};return/*#__PURE__*/_jsx(\"div\",{className:\"Background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Border\"}),uploads.map(function(val,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"Post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Image\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Name\",children:[\" \",val.author,/*#__PURE__*/_jsxs(\"div\",{className:\"Title\",children:[\"\\\"\",val.title,\"\\\"\"]})]}),/*#__PURE__*/_jsx(Image,{cloudName:\"dlhqyhr1r\",publicId:val.image})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Description\",children:[\" \\\"\",val.description,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Alike\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Amount\",children:[val.amount,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"Like\",children:/*#__PURE__*/_jsx(FavoriteBorderIcon,{id:\"likeButton\",onClick:function onClick(){likePost(val.id,key);}})})]})]})]});})]})});}export default Home;","map":{"version":3,"sources":["E:/The Reactor/SocialMediaBasdat/client/src/pages/Home/Home.js"],"names":["React","useEffect","useState","Image","Axios","FavoriteBorderIcon","Home","uploads","setUploads","localStorage","getItem","setItem","get","then","response","data","likePost","id","key","tempLikes","likes","post","author","likesid","map","val","title","image","description","amount"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,YAAP,CACA,OAASC,KAAT,KAAsB,kBAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,mCAA/B,C,wFAIA,QAASC,CAAAA,IAAT,EAAgB,eAEkBJ,QAAQ,CAAC,EAAD,CAF1B,wCAELK,OAFK,eAEIC,UAFJ,eAIZP,SAAS,CAAC,UAAM,CACZ,GAAI,CAACQ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAL,CAAuC,CACnCD,YAAY,CAACE,OAAb,CAAqB,UAArB,CAAiC,KAAjC,EACH,CACJ,CAJQ,CAIN,EAJM,CAAT,CAMAV,SAAS,CAAC,UAAM,CACZG,KAAK,CAACQ,GAAN,CAAU,8BAAV,EAA0CC,IAA1C,CAA+C,SAACC,QAAD,CAAc,CACzDN,UAAU,CAACM,QAAQ,CAACC,IAAV,CAAV,CACH,CAFD,EAGH,CAJQ,CAIN,EAJM,CAAT,CAOA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,EAAD,CAAKC,GAAL,CAAc,CAC3B,GAAIC,CAAAA,SAAS,CAAGZ,OAAhB,CACAY,SAAS,CAACD,GAAD,CAAT,CAAeE,KAAf,CAAuBD,SAAS,CAACD,GAAD,CAAT,CAAeE,KAAf,CAAuB,CAA9C,CAEAhB,KAAK,CAACiB,IAAN,CAAW,mCAAX,CAAgD,CAC5CC,MAAM,CAAEb,YAAY,CAACC,OAAb,CAAqB,UAArB,CADoC,CAE5Ca,OAAO,CAAEN,EAFmC,CAAhD,EAIGJ,IAJH,CAIQ,SAACC,QAAD,CAAc,CAClBN,UAAU,CAACW,SAAD,CAAV,CAEH,CAPD,EASH,CAbD,CAgBA,mBAEI,YAAK,SAAS,CAAC,YAAf,uBACI,aAAK,SAAS,CAAC,MAAf,wBACI,YAAK,SAAS,CAAC,QAAf,EADJ,CAGKZ,OAAO,CAACiB,GAAR,CAAY,SAACC,GAAD,CAAMP,GAAN,CAAc,CAEvB,mBAEI,aAAK,SAAS,CAAC,MAAf,wBACI,aAAK,SAAS,CAAC,OAAf,wBACI,aAAK,SAAS,CAAC,MAAf,eAAwBO,GAAG,CAACH,MAA5B,cACI,aAAK,SAAS,CAAC,OAAf,gBACMG,GAAG,CAACC,KADV,QADJ,GADJ,cAKI,KAAC,KAAD,EAAO,SAAS,CAAC,WAAjB,CAA6B,QAAQ,CAAED,GAAG,CAACE,KAA3C,EALJ,GADJ,cAQI,aAAK,SAAS,CAAC,SAAf,wBAEI,aAAK,SAAS,CAAC,aAAf,iBAAgCF,GAAG,CAACG,WAApC,QAFJ,cAGI,aAAK,SAAS,CAAC,OAAf,wBACI,aAAK,SAAS,CAAC,QAAf,WAAyBH,GAAG,CAACI,MAA7B,OADJ,cAEI,YAAK,SAAS,CAAC,MAAf,uBAEI,KAAC,kBAAD,EACI,EAAE,CAAC,YADP,CAEI,OAAO,CAAE,kBAAM,CACXb,QAAQ,CAACS,GAAG,CAACR,EAAL,CAASC,GAAT,CAAR,CAIH,CAPL,EAFJ,EAFJ,GAHJ,GARJ,GAFJ,CAgCH,CAlCA,CAHL,GADJ,EAFJ,CA6CH,CAED,cAAeZ,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./Home.css\";\r\nimport { Image } from \"cloudinary-react\";\r\nimport Axios from \"axios\";\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\n\r\n\r\n\r\nfunction Home() {\r\n\r\n    const [uploads, setUploads] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (!localStorage.getItem(\"loggedIn\")) {\r\n            localStorage.setItem(\"loggedIn\", false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        Axios.get(\"http://localhost:3001/upload\").then((response) => {\r\n            setUploads(response.data);\r\n        });\r\n    }, []);\r\n\r\n\r\n    const likePost = (id, key,) => {\r\n        var tempLikes = uploads;\r\n        tempLikes[key].likes = tempLikes[key].likes + 1;\r\n\r\n        Axios.post(\"http://localhost:3001/upload/like\", {\r\n            author: localStorage.getItem(\"username\"),\r\n            likesid: id,\r\n\r\n        }).then((response) => {\r\n            setUploads(tempLikes);\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"Background\">\r\n            <div className=\"Home\">\r\n                <div className=\"Border\"></div>\r\n\r\n                {uploads.map((val, key) => {\r\n\r\n                    return (\r\n\r\n                        <div className=\"Post\">\r\n                            <div className=\"Image\">\r\n                                <div className=\"Name\"> {val.author}\r\n                                    <div className=\"Title\">\r\n                                        \"{val.title}\"\r\n                                </div></div>\r\n                                <Image cloudName=\"dlhqyhr1r\" publicId={val.image} />\r\n                            </div>\r\n                            <div className=\"Content\">\r\n\r\n                                <div className=\"Description\"> \"{val.description}\"</div>\r\n                                <div className=\"Alike\">\r\n                                    <div className=\"Amount\">{val.amount} </div>\r\n                                    <div className=\"Like\">\r\n\r\n                                        <FavoriteBorderIcon\r\n                                            id=\"likeButton\"\r\n                                            onClick={() => {\r\n                                                likePost(val.id, key)\r\n\r\n                                                    ;\r\n\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    );\r\n                })}\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}