{"ast":null,"code":"import _slicedToArray from\"E:/The Reactor/SocialMediaBasdat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./Login.css';import Axios from\"axios\";import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var refreshPage=function refreshPage(){window.location.reload();};var history=useHistory();var Login=function Login(){Axios.post(\"http://localhost:3001/user/login\",{username:username,password:password}).then(function(response){if(response.data.loggedIn){localStorage.setItem(\"loggedIn\",true);localStorage.setItem(\"username\",response.data.username);history.push(\"/\");refreshPage();}else{setErrorMessage(response.data.message);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"outer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"LoginForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",onChange:function onChange(event){setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"Password\",placeholder:\"Password\",onChange:function onChange(event){setPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:Login,children:\" Login\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:20,color:\"red\"},children:errorMessage})})]});}export default Login;","map":{"version":3,"sources":["E:/The Reactor/SocialMediaBasdat/client/src/pages/Login/Login.js"],"names":["React","useState","Axios","useHistory","Login","username","setUsername","password","setPassword","errorMessage","setErrorMessage","refreshPage","window","location","reload","history","post","then","response","data","loggedIn","localStorage","setItem","push","message","event","target","value","fontSize","color"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,eACmBH,QAAQ,CAAC,EAAD,CAD3B,wCACNI,QADM,eACIC,WADJ,8BAEmBL,QAAQ,CAAC,EAAD,CAF3B,yCAENM,QAFM,eAEIC,WAFJ,8BAI2BP,QAAQ,CAAC,EAAD,CAJnC,yCAINQ,YAJM,eAIQC,eAJR,eAMb,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAFD,CAGA,GAAIC,CAAAA,OAAO,CAAGZ,UAAU,EAAxB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChBF,KAAK,CAACc,IAAN,CAAW,kCAAX,CAA+C,CAC3CX,QAAQ,CAAEA,QADiC,CAE3CE,QAAQ,CAAEA,QAFiC,CAA/C,EAGGU,IAHH,CAGQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,QAAlB,CAA4B,CACxBC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,IAAjC,EACAD,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCJ,QAAQ,CAACC,IAAT,CAAcd,QAA/C,EACAU,OAAO,CAACQ,IAAR,CAAa,GAAb,EACAZ,WAAW,GACd,CALD,IAKO,CACHD,eAAe,CAACQ,QAAQ,CAACC,IAAT,CAAcK,OAAf,CAAf,CACH,CACJ,CAZD,EAaH,CAdD,CAeA,mBACI,aAAK,SAAS,CAAC,OAAf,wBACI,aAAK,SAAS,CAAC,OAAf,wBACI,6BADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,cACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,UAFhB,CAGI,QAAQ,CAAE,kBAACC,KAAD,CAAW,CACjBnB,WAAW,CAACmB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CAEH,CANL,EADJ,cAUI,cACI,IAAI,CAAC,UADT,CAEI,WAAW,CAAC,UAFhB,CAGI,QAAQ,CAAE,kBAACF,KAAD,CAAW,CACjBjB,WAAW,CAACiB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CAEH,CANL,EAVJ,cAmBI,eAAQ,OAAO,CAAEvB,KAAjB,oBAnBJ,GAFJ,GADJ,cA2BI,YAAK,SAAS,CAAC,SAAf,uBACI,WAAI,KAAK,CAAE,CAAEwB,QAAQ,CAAE,EAAZ,CAAgBC,KAAK,CAAE,KAAvB,CAAX,UAA4CpB,YAA5C,EADJ,EA3BJ,GADJ,CAkCH,CAED,cAAeL,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport './Login.css'\r\nimport Axios from \"axios\"\r\n\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nfunction Login() {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n\r\n    const refreshPage = () => {\r\n        window.location.reload();\r\n    }\r\n    let history = useHistory()\r\n\r\n    const Login = () => {\r\n        Axios.post(\"http://localhost:3001/user/login\", {\r\n            username: username,\r\n            password: password,\r\n        }).then((response) => {\r\n            if (response.data.loggedIn) {\r\n                localStorage.setItem(\"loggedIn\", true)\r\n                localStorage.setItem(\"username\", response.data.username)\r\n                history.push(\"/\")\r\n                refreshPage()\r\n            } else {\r\n                setErrorMessage(response.data.message);\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"outer\">\r\n            <div className=\"Login\">\r\n                <h1>Login</h1>\r\n                <div className=\"LoginForm\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        onChange={(event) => {\r\n                            setUsername(event.target.value)\r\n\r\n                        }}\r\n\r\n                    />\r\n                    <input\r\n                        type=\"Password\"\r\n                        placeholder=\"Password\"\r\n                        onChange={(event) => {\r\n                            setPassword(event.target.value)\r\n\r\n                        }}\r\n\r\n                    />\r\n                    <button onClick={Login}> Login</button>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"message\">\r\n                <h1 style={{ fontSize: 20, color: \"red\" }}>{errorMessage}</h1>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}